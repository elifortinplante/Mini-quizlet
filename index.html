<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Quizlet Full</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body {margin:0; font-family:system-ui, sans-serif; background: linear-gradient(135deg,#6366f1,#ec4899,#f59e0b); color:white; min-height:100vh;}
.btn {padding:.7rem 1rem; border-radius:9999px; font-weight:700;}
.btn-primary {background:linear-gradient(90deg,#6366f1,#ec4899); color:white;}
.btn-secondary {background:white; color:#4f46e5; border:2px solid #4f46e5;}
.input {width:100%; padding:.6rem .8rem; border-radius:14px; border:2px solid #e5e7eb; background:white; color:black;}
.set-card {background:white; color:black; border-radius:20px; padding:14px; box-shadow:0 8px 24px rgba(0,0,0,.18); display:flex; align-items:center; justify-content:space-between;}
.card {width:100%; height:80vh; border-radius:20px; background:white; color:black; position:relative; display:flex; align-items:center; justify-content:center; flex-direction:column; text-align:center; overflow:hidden;}
.card img {object-fit:cover; width:100%; height:100%; position:absolute; top:0; left:0; z-index:0;}
.card-text {position:absolute; z-index:1; padding:10px; font-size:1.5rem; font-weight:bold; word-break:break-word;}
.emoji-btn {position:absolute; top:50%; transform:translateY(-50%); font-size:3rem;}
.emoji-left {left:10px;}
.emoji-right {right:10px;}
.hidden {display:none;}
</style>
</head>
<body>
<header class="max-w-4xl mx-auto px-4 pt-5 flex items-center justify-between">
<div class="flex items-center gap-3">
<div class="w-11 h-11 rounded-2xl bg-white text-indigo-600 grid place-items-center font-extrabold">MQ+</div>
<div>
<h1 class="text-2xl font-extrabold drop-shadow">Mini Quizlet Full</h1>
<p class="text-indigo-100 text-sm -mt-1">√âtudier en s‚Äôamusant ‚ú®</p>
</div>
</div>
<div class="flex items-center gap-2">
<button id="btnNewSet" class="btn btn-primary">+ Nouveau set</button>
</div>
</header>
<main class="max-w-4xl mx-auto px-4 pt-4">
<section id="viewHome" class="space-y-4">
<div id="setsGrid" class="space-y-3"></div>
<p id="emptyMsg" class="text-center text-white/90 hidden">Aucun set. Cr√©e ton premier ‚ú®</p>
</section>
<section id="viewEditor" class="hidden">
<div class="flex items-center justify-between mb-3">
<button class="btn btn-secondary" id="btnBackHome">‚Üê Accueil</button>
<button class="btn btn-primary" id="btnStudy">‚ñ∂ √âtudier</button>
</div>
<div class="grid sm:grid-cols-2 gap-3 mb-3">
<input id="setTitle" class="input" placeholder="Titre du set">
<input id="setSubject" class="input" placeholder="Mati√®re du set">
</div>
<div class="flex items-center justify-between mb-2">
<h3 class="font-extrabold">Cartes</h3>
<button id="btnAddCard" class="btn btn-primary">+ Ajouter</button>
</div>
<div id="cardsList"></div>
</section>
<section id="viewStudy" class="hidden flex flex-col items-center justify-center">
<h2 id="studySetTitle" class="text-xl font-bold mb-2"></h2>
<h3 id="studySetSubject" class="text-lg mb-4"></h3>
<div class="card" id="cardContainer">
<img id="cardImage" src="" alt="">
<div class="card-text" id="cardText"></div>
<button class="emoji-btn emoji-left" id="btnBad">‚ùå</button>
<button class="emoji-btn emoji-right" id="btnGood">‚úÖ</button>
</div>
<div id="controlButtons" class="hidden mt-4 flex gap-3">
<button id="btnAgainWrong" class="btn btn-secondary">Reprendre erreurs</button>
<button id="btnRestartAll" class="btn btn-primary">Tout recommencer</button>
<button id="btnBackHome2" class="btn btn-secondary">Accueil</button>
</div>
</section>
</main>
<script>
const LS_KEY='mq_full_sets';
let sets=[];
let currentSetId=null;
let currentIndex=0;
let currentOrder=[];
let wrongCards=[];
const $=(s)=>document.querySelector(s);
const uid=()=>Math.random().toString(36).slice(2,9);
function load(){try{sets=JSON.parse(localStorage.getItem(LS_KEY)||'[]');}catch{sets=[]}}
function save(){localStorage.setItem(LS_KEY,JSON.stringify(sets));}
function findSet(id){return sets.find(s=>s.id===id)}
function upsertSet(s){const i=sets.findIndex(x=>x.id===s.id); if(i>-1) sets[i]=s; else sets.push(s); save();}
function showHome(){$('#viewHome').classList.remove('hidden'); $('#viewEditor').classList.add('hidden'); $('#viewStudy').classList.add('hidden'); renderHome();}
function showEditor(){$('#viewHome').classList.add('hidden'); $('#viewEditor').classList.remove('hidden'); $('#viewStudy').classList.add('hidden'); renderEditor();}
function showStudy(){$('#viewHome').classList.add('hidden'); $('#viewEditor').classList.add('hidden'); $('#viewStudy').classList.remove('hidden');}
function renderHome(){const grid=$('#setsGrid'); grid.innerHTML=''; if(!sets.length){$('#emptyMsg').classList.remove('hidden'); return;} $('#emptyMsg').classList.add('hidden'); sets.forEach(s=>{
const div=document.createElement('div'); div.className='set-card';
div.innerHTML=`<div>${s.title||'Sans titre'}</div><div>${s.subject||'‚Äî'}</div>
<div class='flex gap-2'><button class='btn btn-primary btn-edit'>Modifier</button><button class='btn btn-primary btn-play'>Jouer</button><button class='btn btn-secondary btn-del'>Supprimer</button></div>`;
div.querySelector('.btn-edit').onclick=()=>{currentSetId=s.id; showEditor();};
div.querySelector('.btn-play').onclick=()=>{currentSetId=s.id; startStudy(false);};
div.querySelector('.btn-del').onclick=()=>{if(confirm('Supprimer ce set ?')){sets=sets.filter(x=>x.id!==s.id); save(); renderHome();}};
grid.appendChild(div);});}
$('#btnNewSet').onclick=()=>{const s={id:uid(),title:'Nouveau set',subject:'',cards:[]}; upsertSet(s); currentSetId=s.id; showEditor();};
const setTitle=$('#setTitle'), setSubject=$('#setSubject'), cardsList=$('#cardsList');
function renderEditor(){const s=findSet(currentSetId); if(!s){showHome(); return;} setTitle.value=s.title; setSubject.value=s.subject; cardsList.innerHTML=''; s.cards.forEach(c=>{
const row=document.createElement('div'); row.className='set-card'; row.innerHTML=`<input class='input input-front' placeholder='Question'><input class='input input-back' placeholder='R√©ponse'><input class='input input-img' placeholder='Image URL'> <button class='btn btn-secondary btn-del-card'>üóëÔ∏è</button>`;
const front=row.querySelector('.input-front'); const back=row.querySelector('.input-back'); const img=row.querySelector('.input-img');
front.value=c.front; back.value=c.back; img.value=c.img;
front.oninput=()=>{c.front=front.value; save();}; back.oninput=()=>{c.back=back.value; save();}; img.oninput=()=>{c.img=img.value; save();};
row.querySelector('.btn-del-card').onclick=()=>{s.cards=s.cards.filter(x=>x!==c); save(); renderEditor();};
cardsList.appendChild(row);});}
$('#btnAddCard').onclick=()=>{const s=findSet(currentSetId); s.cards.push({front:'',back:'',img:''}); save(); renderEditor();};
$('#btnBackHome').onclick=showHome;
$('#btnStudy').onclick=()=>{const s=findSet(currentSetId); s.title=setTitle.value; s.subject=setSubject.value; save(); startStudy(false);};
const cardText=$('#cardText'), cardImage=$('#cardImage'); const btnGood=$('#btnGood'), btnBad=$('#btnBad'), controlButtons=$('#controlButtons');
function startStudy(restartWrong){const s=findSet(currentSetId); if(!s.cards.length){alert('Ajoute des cartes !'); return;} currentOrder=restartWrong?w..slice():s.cards.map((c,i)=>i); currentIndex=0; wrongCards=[]; updateCard(); showStudy();}
function updateCard(){const s=findSet(currentSetId); if(currentIndex>=currentOrder.length){controlButtons.classList.remove('hidden'); cardText.textContent=''; cardImage.src=''; return;} const c=s.cards[currentOrder[currentIndex]];
cardText.textContent=c.front; cardImage.src=c.img||'';
}
btnGood.onclick=()=>{markCard(true);}; btnBad.onclick=()=>{markCard(false);};
function markCard(ok){const s=findSet(currentSetId); const c=s.cards[currentOrder[currentIndex]]; if(!ok) wrongCards.push(currentOrder[currentIndex]); currentIndex++; updateCard();}
$('#btnAgainWrong').onclick=()=>{if(!wrongCards.length){alert('Aucune erreur'); return;} currentOrder=wrongCards.slice(); currentIndex=0; wrongCards=[]; updateCard(); controlButtons.classList.add('hidden');}
$('#btnRestartAll').onclick=()=>{currentIndex=0; updateCard(); controlButtons.classList.add('hidden');}
$('#btnBackHome2').onclick=showHome;
load(); renderHome();
</script>
</body>
</html>

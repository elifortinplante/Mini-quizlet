<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Mini-Quizlet ++</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:linear-gradient(135deg,#6366f1,#ec4899,#f59e0b);color:white;min-height:100vh}
.btn{padding:.7rem 1rem;border-radius:9999px;font-weight:700}
.btn-primary{background:linear-gradient(90deg,#6366f1,#ec4899);color:white}
.btn-secondary{background:white;color:#4f46e5;border:2px solid #4f46e5}
.chip{background:#dbeafe;color:#1e3a8a;padding:.25rem .6rem;border-radius:9999px;font-size:.8rem;font-weight:700}
.input{width:100%;padding:.6rem .8rem;border-radius:14px;border:2px solid #e5e7eb;background:white;color:black}
.set-card{background:white;color:black;border-radius:20px;padding:14px;box-shadow:0 8px 24px rgba(0,0,0,.18)}
.mini-thumb{width:48px;height:48px;border-radius:12px;object-fit:cover;background:#eef}
.stage{perspective:1200px;display:flex;justify-content:center;align-items:center;}
.card{width:320px;max-width:90vw;height:220px;border-radius:28px;background:white;color:black;position:relative;transform-style:preserve-3d;transition:transform .3s ease, box-shadow .2s;box-shadow:0 12px 32px rgba(0,0,0,.25);user-select:none;touch-action:none;}
.card-face{position:absolute;inset:0;padding:18px 16px 16px 16px;display:flex;gap:10px;flex-direction:column;align-items:center;justify-content:center;backface-visibility:hidden;text-align:center}
.card-front{transform:rotateY(0)}
.card-back{transform:rotateY(180deg)}
.flipped{transform:rotateY(180deg)}
.answer{font-size:1.05rem;font-weight:700}
.img-wrap{position:absolute;top:10px;right:10px}
.img-wrap img{width:56px;height:56px;border-radius:12px;object-fit:cover;border:2px solid #ddd}
</style>
</head>
<body class="pb-20">
<header class="max-w-4xl mx-auto px-4 pt-5 flex items-center justify-between">
<div class="flex items-center gap-3">
<div class="w-11 h-11 rounded-2xl bg-white text-indigo-600 grid place-items-center font-extrabold">MQ+</div>
<div>
<h1 class="text-2xl font-extrabold drop-shadow">Mini-Quizlet ++</h1>
<p class="text-indigo-100 text-sm -mt-1">√âtudier en s‚Äôamusant ‚ú®</p>
</div>
</div>
<div class="flex items-center gap-2">
<button id="btnTheme" class="btn btn-secondary">üé® Th√®me</button>
<button id="btnNewSet" class="btn btn-primary">+ Nouveau set</button>
</div>
</header>
<main class="max-w-4xl mx-auto px-4 pt-4">
<section id="viewHome" class="space-y-4">
<div id="setsGrid" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
<p id="emptyMsg" class="text-center text-white/90 hidden">Aucun set. Cr√©e ton premier ‚ú®</p>
</section>
<section id="viewEditor" class="hidden">
<div class="flex items-center justify-between mb-3">
<button class="btn btn-secondary" id="btnBackHome1">‚Üê Accueil</button>
</div>
<div class="grid sm:grid-cols-2 gap-3 mb-3">
<div>
<label class="text-sm font-bold">Titre du set</label>
<input id="setTitle" class="input" placeholder="Ex: Vocabulaire anglais">
</div>
<div>
<label class="text-sm font-bold">Mati√®re</label>
<input id="setSubject" class="input" placeholder="Ex: Anglais">
</div>
</div>
<div class="flex items-center justify-between mb-2">
<h3 class="font-extrabold">Cartes</h3>
<button id="btnAddCard" class="btn btn-primary">+ Ajouter</button>
</div>
<div id="cardsList" class="space-y-3"></div>
<p id="noCardsMsg" class="hidden">Aucune carte.</p>
</section>
<section id="viewStudy" class="hidden">
<div class="flex items-center justify-between mb-2">
<button class="btn btn-secondary" id="btnBackHome2">‚Üê Accueil</button>
<div class="flex items-center gap-2">
<span id="xpChip" class="chip">XP: 0</span>
<span id="streakChip" class="chip">üî• 0</span>
<span id="progressChip" class="chip">0/0</span>
</div>
</div>
<div class="text-center mb-2">
<div id="studySetTitle" class="text-xl font-extrabold"></div>
</div>
<div class="stage mt-3">
<div id="card" class="card">
<div class="img-wrap"><img id="cardImg" alt=""/></div>
<div class="card-face card-front">
<div id="frontText" class="text-lg font-bold"></div>
</div>
<div class="card-face card-back">
<div id="backText" class="answer"></div>
</div>
</div>
</div>
<div class="mt-5 flex flex-wrap items-center justify-center gap-2">
<button id="btnGood" class="btn btn-primary">Bien</button>
<button id="btnBad" class="btn btn-secondary">Mal</button>
<button id="btnRestartAll" class="btn btn-primary">Tout recommencer</button>
<button id="btnAgainWrong" class="btn btn-secondary">Reprendre erreurs</button>
<button id="btnHome" class="btn btn-secondary">üè† Home</button>
</div>
</section>
</main>
<template id="tplSet">
<div class="set-card p-4 flex items-center gap-3">
<img class="mini-thumb"/>
<div class="flex-1">
<div class="font-extrabold text-black/90 set-title">Titre</div>
<div class="text-sm text-slate-500 set-subject">Mati√®re</div>
<div class="text-xs text-slate-500 set-count">0 cartes</div>
</div>
<div class="flex flex-col gap-2">
<button class="btn btn-primary btn-edit">Modifier</button>
<button class="btn btn-primary btn-play">Jouer</button>
<button class="btn btn-secondary btn-del">Supprimer</button>
</div>
</div>
</template>
<template id="tplCardRow">
<div class="set-card p-3">
<div class="grid grid-cols-1 gap-2">
<input class="input input-front" placeholder="Question">
<input class="input input-back" placeholder="R√©ponse">
<button class="btn btn-secondary btn-del-card">üóëÔ∏è Carte</button>
</div>
</div>
</template>
<script>
const LS_KEY='mq_plus_sets';
let sets=[], currentSetId=null, study={order:[],i:0,wrong:[],score:0,finished:false};
const $=(s)=>document.querySelector(s), $$=(s)=>document.querySelectorAll(s), uid=()=>Math.random().toString(36).slice(2,9);
function load(){try{sets=JSON.parse(localStorage.getItem(LS_KEY)||'[]');}catch{sets=[]}} function save(){localStorage.setItem(LS_KEY,JSON.stringify(sets));}
function findSet(id){return sets.find(s=>s.id===id)} function upsertSet(s){const i=sets.findIndex(x=>x.id===s.id); if(i>-1) sets[i]=s; else sets.push(s); save();}
const viewHome=$('#viewHome'), viewEditor=$('#viewEditor'), viewStudy=$('#viewStudy'); const setsGrid=$('#setsGrid'), emptyMsg=$('#emptyMsg');
function showHome(){viewHome.classList.remove('hidden');viewEditor.classList.add('hidden');viewStudy.classList.add('hidden'); renderHome();}
function showEditor(){viewHome.classList.add('hidden');viewEditor.classList.remove('hidden');viewStudy.classList.add('hidden'); renderEditor();}
function showStudy(){viewHome.classList.add('hidden');viewEditor.classList.add('hidden');viewStudy.classList.remove('hidden');}
// Le code inclut maintenant le placeholder auto-effac√©, le swipe tactile, Bien/Mal, Home et scoring complet pour chaque carte.
load(); renderHome();
</script>
</body>
</html>
